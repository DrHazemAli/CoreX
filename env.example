# ==============================================================================
# COREX: Environment Configuration
# ==============================================================================
# Copy this file to .env.local and fill in the values
# All NEXT_PUBLIC_* variables are exposed to the browser
# ==============================================================================

# ==============================================================================
# APPLICATION
# ==============================================================================

# Application URL (used for redirects, callbacks, metadata)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Node environment (development | production | test)
NODE_ENV=development

# ==============================================================================
# SUPABASE (Required when auth/database enabled)
# ==============================================================================
# Get these from: https://supabase.com/dashboard/project/_/settings/api

# Project URL
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

# Anonymous/Public key (safe for browser)
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Service Role key (server-side only, never expose to browser)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
# Enable/disable core features (0 = disabled, 1 = enabled)

# Authentication system
NEXT_PUBLIC_ENABLE_AUTH=0

# Database connectivity
NEXT_PUBLIC_ENABLE_DATABASE=0

# Role-based permissions
NEXT_PUBLIC_ENABLE_PERMISSIONS=0

# Background job queue
NEXT_PUBLIC_ENABLE_JOBS=0

# ==============================================================================
# INFRASTRUCTURE FLAGS
# ==============================================================================

# Redis caching (requires UPSTASH_* config)
FEATURE_REDIS=0

# API rate limiting
FEATURE_RATE_LIMIT=0

# Response caching
FEATURE_RESPONSE_CACHE=0

# ==============================================================================
# INTERNAL SECURITY
# ==============================================================================

# Secret for /api/internal/* endpoints (min 32 chars)
# Generate with: openssl rand -base64 32
INTERNAL_API_SECRET=your-super-secret-key-min-32-characters

# ==============================================================================
# REDIS / UPSTASH (Optional)
# ==============================================================================
# Required when FEATURE_REDIS=1
# Get these from: https://console.upstash.com/

UPSTASH_REDIS_URL=https://your-redis.upstash.io
UPSTASH_REDIS_TOKEN=your-upstash-token

# ==============================================================================
# JOB QUEUE CONFIGURATION
# ==============================================================================
# Only used when NEXT_PUBLIC_ENABLE_JOBS=1

# Queue driver: memory | database | sync
JOB_QUEUE_DRIVER=memory

# Default queue name
JOB_DEFAULT_QUEUE=default

# Max retry attempts for failed jobs
JOB_MAX_ATTEMPTS=3

# Job timeout in milliseconds (default: 60000 = 1 minute)
JOB_TIMEOUT=60000

# Worker concurrency (parallel job processing)
JOB_WORKER_CONCURRENCY=1

# Poll interval for new jobs in milliseconds
JOB_WORKER_POLL_INTERVAL=1000

# Graceful shutdown timeout in milliseconds
JOB_WORKER_SHUTDOWN_TIMEOUT=30000